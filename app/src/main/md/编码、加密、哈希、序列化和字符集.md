# 编码、加密、哈希、序列化和字符集

1. 涉及内容	
	
	>+ 编码解码 Eccoding & Decoding

	>+ 加密解密 Encryption $ Decryption

	>+ 数字签名 Digital Signature

	>+ 压缩与解压缩 Compression & Decompression

	>+ 序列化 Serialization

	>+ 哈希 Hash

	>+ 字符集 Charset

2. 为什么要学这些
	
	>+ 因为这些东西经常会用到，但需要真正理解才能正确使用

	>+ 相关词：相关词:MD5、SHA1、RSA、DSA、AES、BASE64、encoded URL、Unicode.UTF-8、GBK、IS0-8859-1.....


3. 加密
	
	>+ 密码学

	>>+ 起源：古代战争--古典密码学

    >>>+ 移位式加密： 密码棒 ![](F:\AndroidProject\StudentWord\app\src\main\assets\密码棒.png)

    >>>>+ 加密算法： 缠绕木棒后进行书写

    >>>>+ 密钥：木棒的尺寸规格

    >>>+ 替换式加密

	>>>>+ 列：     

	>>>>>+ 码表：

	>>>>>>+ ABCDEFGHIJKLMNOPQRSTUVWXYZ

	>>>>>>+ BCDEFGHIJKLMNOPQRSTUVWXYZA

	>>>>>>>+ 明文：I LOVE YOU

	>>>>>>>+ 密文：J MPWF ZPV

	>>>+ 加密算法：替换文字

	>>>>+ 密钥：码表

	>>+ 现代密码学： 

	>>>+ 不止可以用于文字内容，还可以用于各种二进制数据

	>>>+ 对称加密：![](F:\AndroidProject\StudentWord\app\src\main\assets\对称加密.png)

	>>>>+ 原理：使用密钥和加密算法对数据进行转换，得到的无意义数据即为密文；使用密钥和解密算法对数据进行逆向转换，得到原数据。

	>>>>+ 经典算法：DES(因为密钥太短而被弃用),AES

	>>>>+ 缺点： 密钥容易被泄露

	>>>+ 非对称加密：![](F:\AndroidProject\StudentWord\app\src\main\assets\非对称加密.png)

	>>>>+ 原理：使用公钥对数据进行加密得到密文，使用私钥对数据进行解密得到原数据(私钥也可以解密使用公钥加密后的密文)

	>>>>+ 延申用途：数字签名

	>>>>>+ 签名与验证（不完整）:使用私钥对原数据进行一次签名(加密),生成签名数据（确保这段数据是来自于私钥拥有者)，把原数据和签名数据一起发给对方，接收方用发送方的公钥解密签名数据，用原数据和签名数据来对比两段文字是否一致，是否的确来自于发送方发出的数据。

	![](F:\AndroidProject\StudentWord\app\src\main\assets\签名与验证.png) 

	>>>>+ 加密+签名:使用私钥对原数据进行一次签名(加密),生成签名数据(确保这段数据是来自于私钥拥有者)，除此之外，发送方还需要把原数据用对方的公钥进行加密(确保数据被第三方截获后第三方也不能看懂这段数据)，然后和签名数据一起发给对方，接收方用发送方的公钥解密签名数据，用私钥来解密发送方的密文，以此来对比两段文字是否一致，是否的确来自于发送方发出的数据。注：这不是一个完整的加密+签名过程，因为第三方可以用发送方的公钥来解密签名数据，所以还需要has

	![](F:\AndroidProject\StudentWord\app\src\main\assets\加密+签名.png)

	>>>>+ 加密+签名与验证(完整版)：对原数据做一次has，使用私钥对has值进行一次签名(加密),生成签名数据，除此之外，发送方还需要把原数据用对方的公钥进行加密，然后和签名数据一起发给对方，接收方用发送方的公钥解密签名数据得到has值，用私钥来解密发送方的密文得到原数据，再把原数据has一次得到has值，以此来对比两个has值是否一致，是否的确来自于发送方发出的数据。这样的话就算第三方用公钥解开了签名数据得到的也是has值，保证了数据的安全性。

	![](F:\AndroidProject\StudentWord\app\src\main\assets\签名与验证完整版.png) 

	>>>>+ 经典算法：RSA（可以用来加密、也可以用来签名）、DSA（只能用来签名、虽然丧失了加密功能，但是签名的速度非常快）

	>>>>+ 优点：可以在不安全的网络环境下安全的传输数据

	>>>>+ 缺点：非对称加密算法太复杂，对比对称加密性能差很多

4. base64

	>+ 将二进制数据转换成由64个字符组成的字符串编码算法

	>+ 什么是二进制数据？

	>>+ 实际上的二进制数据为计算机里所有的数据都是二进制数据(文件夹、游戏、图片等等)

	>>+ 侠义上的二进制数据为非文本的数据

	>+ base64由 (小写的26个字母) + (大写的26个字母) + (阿拉伯数字0-9) + (+和 \ )

	>+ 原理：将原字符串按照每个字节(8位)的四分之三(6)位去组成一个新的字节的方式来把数据重新组成一个字符串

	>+ 码表：(padding = ) 是用来填边的，当字节数不够的时候就用“=”来填充

	![](F:\AndroidProject\StudentWord\app\src\main\assets\码表.png)

	>>+ 列:

	![](F:\AndroidProject\StudentWord\app\src\main\assets\base64.png)

	>+ 有什么用？：可以让一些不能使用非文本的场景来使用文本。比如古老的邮箱只能使用文本内容，不能使用图片等，可以用base64将图片二进制数据重新编码为字符串文本内容。

	>+ base64加密传输图片更安全或者更高效？

	>>+ base64不是加密，密钥也是公开的，所以并不安全

	>>+ base64将一个字节变为了一又三分之一个字节,数据也变大了三分之一，所以也并不高效

	>+ 变种base58：去掉了"O"、"0"、 "I"、 "L"、 "+"、 "\",去掉前面四个是因为这几个长得比较像，方便手抄。去掉"+"、"\"是为了方便复制


5. URL encoding

	>+ 将url中的保留字符使用百分号"%"进行编码

	>+ 目的：消除歧义，避免解析错误

6. 压缩和解压缩

	>+ 压缩：把数据换一种方式来存储，以减小存储空间

	>+ 解压缩：把压缩后的数据还原成原先的数据，以便使用

	>+ 常见的压缩算法：DEFLATE(zip就是用的这个压缩方法)、JPEG、MP3

	>+ 压缩属于编码吗？

	>>+ 编码到底什么意思：

	>>>+ 编码并没有一套官方定义，而我们通常所说的编码就是使用一套固定的规则或则固定的算法来把数据从A格式转换为B格式，并且还能转换回来，不会丢失任何的东西。（所以压缩与加压缩也属于编码的一类）

7. 媒体数据的编码解码

    >+ 什么是图片、视频、音频的编解码

    >+ 图片的编码：
    
    >>+ 把图像数据写成JPG、PNG等文件的编码格式

    >>+ 图片的解码：把JPG、PNG等文件的数据解析成标准的图像数据

8.  序列化:把数据对象（一般是内存中的，列入jvm中的对象）转换成字节序列的过程

    >+ 反序列化：把字节序列重新转换成内存中的对象

    >+ 目的：让内存中的对象可以被存储和传输

    >+ 序列化是编码吗？

    >>+ 严格意义来说，序列化并不是编码，因为他不是从一种格式转为列一种格式

9. Hash

	>+ 定义：把任意数据转换成指定大小范围（通常很小）的数据

	>+ 作用：摘要、数字指纹

	>+ 经典算法： MD5、SHA1、SHA256等

	>+ 实际用途：

	>>+ 数据完整性验证

	>>+ 快速查找：HasCode()（hasCode速度快，但存在碰撞率，如果hasCode()相等，那么equals()不一定相等，如果不相等，那么数据equals()一定不相等） 和 HasMap

	>+ 隐私保护：

	>>+ 比如保存密码时不用明文密码，而是给密码has一次，保存has值。为了防止数据库泄露后被中间人利用彩虹表(各种常见密码的has值，通过比对has值查找密码)比对出密码，还可以给密码has前加盐(给用户的密码加上指定的一串数据后去has，防止中间人利用彩虹表拿到密码)。

	>+ Hash是编码吗？

	>>+ hash是不可逆的、不能转换为原数据，所以不是编码

	>+ Hash是加密吗？据说MD5是"不可逆加密"？

10. 字符集

	>+ 含义：一个由整数向现实世界中的文字符号的映射 (Map)

	>>+ 可以理解为给文字编个号

	>+ 分支:

	>>+ ASCII: 128个字符，1个字节

	>>+ ISO-8859-1: 对ASCII进行扩充，1个字节

	>>+ Unicode: 13万个字符，多字节

	>>>+ UTF-8: Unicode 的编码分支

	>>>+ UTF-16: Unicode 的编码分支

	>>>+ Unicode: Unicode 的编码分支(不是最上面的那个Unicode,而是最上面那个Unicode的一个分支)

	>>+ GBK / GB2312 / GB18030 : 中国自研标准，多字节，字符集 + 编码

